# 千音雅集

一个用于管理原神风物之诗琴曲谱的工具，支持曲谱码管理、完成率记录和批量查询功能。

## 功能特点

- 🎵 自动监控剪贴板，实时显示曲谱码
- 📱 移动端友好，支持手机浏览器访问
- 📊 记录曲谱完成率
- ⭐ 支持收藏喜欢的曲谱
- 🔍 批量查询功能
- 📈 实时数据同步
- 🔗 快速访问鉴赏家精选投稿
- 🎯 一键获取鉴赏谱
- 🔄 自动滚动加载
- 💾 智能数据备份

## 安装说明

### 方法一：使用打包好的exe (Windows)

1. 下载打包好的ZIP文件：

# >[点击蓝链前往下载](https://github.com/HKLHaoBin/Repertoire-of-Myriad-Melodies-Score-Tool/releases/tag/new)<

2. 运行生成的exe文件：
- 在 `dist` 目录下找到 `千音雅集.exe`
- 双击运行即可

### 方法二：直接运行 (Windows/Mac/Linux)

1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 运行程序：
```bash
python app.py
```

## 使用说明

### 运行服务

运行后，程序会自动复制访问地址到剪贴板。
建议与"微信输入法"的剪贴板同步功能配合使用！

### 使用建议

1. **电脑端（与手机处于统一局域网下）**：
   - 运行程序后，使用手机浏览器访问显示的地址
   - 在电脑上复制曲谱码，手机端会自动显示
   - 使用批量查询功能查找未完成的曲谱
   - 使用"获取鉴赏谱"功能快速获取鉴赏家精选曲谱

2. **手机端（与电脑处于统一局域网下）**：
   - 访问程序提供的地址
   - 在主页录入完成率
   - 查看历史记录
   - 收藏喜欢的曲谱
   - 使用批量查询功能

### 主要功能

1. **主页功能**：
   - 自动显示剪贴板中的曲谱码
   - 录入完成率（0-100）
   - 收藏/取消收藏曲谱
   - 查看历史记录

2. **批量查询功能**：
   - 支持批量输入曲谱码
   - 显示完成率和收藏状态
   - 支持筛选未完成的曲谱
   - 实时更新完成率
   - 一键获取鉴赏谱
   - 自动滚动加载所有曲谱

3. **数据同步**：
   - 主页录入的完成率会实时同步到批量查询页面
   - 收藏状态实时同步
   - 自动备份数据库

## 技术特点

- 使用 Flask 和 Socket.IO 实现实时通信
- SQLite 数据库存储
- 自动数据库备份
- 响应式设计，支持移动端
- 支持打包为独立exe文件
- Selenium 自动化爬取
- 智能滚动加载

## 注意事项

1. 确保电脑和手机在同一个局域网内
2. 程序默认使用 5005 端口
3. 数据库文件会自动备份到 backups 目录
4. 曲谱码必须至少为 5 位数字
5. 使用exe版本时，程序会在同目录下创建数据库和备份文件
6. 获取鉴赏谱功能需要安装 Chrome 浏览器

## 更新日志

### v1.1.0
- 添加一键获取鉴赏谱功能
- 优化批量查询界面
- 改进按钮样式
- 添加自动滚动加载
- 优化爬取性能

### v1.0.0
- 基础功能实现
- 支持曲谱码监控
- 完成率记录
- 收藏功能
- 批量查询
- 实时数据同步
- 移动端适配
- 支持打包为exe 
